@{
    ViewBag.Title = "提交文本";
    var content = Request.Unvalidated().Form["content"];
}

@section head{
	<script type="text/javascript" charset="utf-8" src="../js/kindeditor/kindeditor-min.js"></script>
	<script type="text/javascript" charset="utf-8" src="../js/kindeditor/lang/zh_CN.js"></script>
	<script type="text/javascript">
	    $(function () {
	        var editor = KindEditor.create('textarea[name="content"]',
            {
                resizeType: 1,
                allowPreviewEmoticons: false,
                allowImageUpload: false,
                filterMode: true,
                htmlTags: {
                        a: ['href', 'target', 'name'],
                        img: ['src', 'width', 'height', 'border', 'alt', 'title', '.width', '.height'],
                        'p,ol,ul,li,blockquote': ['align', '.text-align'],
                        pre: ['class'],
                        'hr,br,strong,b,sub,sup,em,i,u': []
                },
                items: [
						'bold', 'italic', 'underline',
						'removeformat', '|', 'justifyleft', 'justifycenter', 'justifyright', 'insertorderedlist',
						'insertunorderedlist', '|', 'link', 'unlink', 'image', '|', 'source', 'fullscreen']
            });
	    });
	</script>
}

<div class="container">
@using (Html.BeginForm("PostText", "Article", FormMethod.Post, new {@class="form-horizontal"}))
{
    <div class="row-fluid">
      <div class="span8 bg-white">
      <div class="padding">
        
        <fieldset> 
          <legend>发表日志</legend>
          <div class="control-group">
              <label for="title">标题</label> 
              @Html.TextBox("title", "", new { @class = "input-xxlarge" }) 
              <span class="muted">（可不填）</span>
          </div>
          <div class="control-group">
            <label for="content">内容</label>
            @Html.TextArea("content", "", 15, 20, new { @class = "input-xxlarge editor" })
          </div>

          <div class="form-actions">
            <button type="submit" class="btn btn-primary">保存</button> 
            @Html.ActionLink("取消", "Index", "Home", new { @class = "btn" })
          </div> 
          <div>@Html.ValidationSummary()</div>
        </fieldset>
      
      </div>
      </div>
      <!--.span8-->
      <div class="span4">
          <div class="well">
            @Html.DropDownList("categoryid", ViewData["CategoryList"] as SelectList, "默认分类")
            <a href="#">新建</a>
            <hr />
            @Html.DropDownList("privacy", ViewData["PrivateList"] as List<SelectListItem>)
            <hr />
            <label class="checkbox inline"> 
                <input type="checkbox" name="top" value="1"> 设为置顶
             </label> 
             <label class="checkbox inline"> 
                <input type="checkbox" name="draft" value="1"> 存为草稿
             </label> 

          </div><!--/.well -->
      </div>
    </div>
    <!--/.span4 -->
}
</div>   
<!--/.container -->