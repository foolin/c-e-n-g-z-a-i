@{
    ViewBag.Title = "新用户注册";
    Layout = "_LoginLayout.cshtml";
}


    <div class="login-form">
    @using (Html.BeginForm()) {
        if (ViewBag.RegisterLimit == 1)
        {
        <p>
            <label for="username">邀请码：</label>
            @Html.TextBox("invite")
            @Html.ValidationMessage("invite") 
            @Html.ActionLink("申请邀请码", "ApplyInviteCode")
        </p>
        }
        <p>
            <label for="username">邮 箱：</label>
            @Html.TextBox("email")
            @Html.ValidationMessage("email")
        </p>
        <p>
            <label for="username">昵 称：</label>
            @Html.TextBox("nickname")
            @Html.ValidationMessage("nickname") 建议用真实名字
        </p>
        <p>
            <label for="password">密 码：</label>
            @Html.Password("password")
            @Html.ValidationMessage("password")
        </p>
        <p>
            <label for="confirmPassword">确认密码：</label>
            @Html.Password("repassword")
            @Html.ValidationMessage("repassword")
        </p>
        <p>
            <label for="confirmPassword">验证码：</label>
            @Html.TextBox("verifyCode")
            <img id="imgVerifyCode" src="../../pages/verifycode.aspx?t=@DateTime.Now" alt="刷新验证码" style="cursor:pointer;" onclick="refreshCode('imgVerifyCode')" />
          	<a href="javascript:refreshCode('imgVerifyCode')">看不清？</a>
            @Html.ValidationMessage("verifyCode")
            <script type="text/javascript">
                //刷新
                function refreshCode(id) {
                    var img = document.getElementById(id);
                    img.src = "../../pages/verifycode.aspx?t=" + new Date().getTime();
                }
            </script>
        </p>
        <p>
            <label class="checkbox inline"> 
                <input type="checkbox" name="agreement" id="agreement" value="1"> 同意《@Html.ActionLink("用户协议", "Agreement", "About", null, new { target = "_blank" })》
            </label> 
        </p>
        <p class="btn-group">
            <input type="submit" class="btn btn-primary" value="注册" />
            @Html.ActionLink("已经有帐号？", "Login", null, new { @class = "btn btn-danger" })
        </p>
        <p>@Html.ValidationSummary()</p>
    }
    </div>
